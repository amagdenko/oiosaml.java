<html>
<head>
<title>OIOSAML.java - JAXP 1.3 endorsement</title>
        <style type="text/css">
    	body {background-color: white; margin: 20px;}
    	body, tr, td {font-family: Verdana, Helvetica, sans-serif; color: #456974;}
    	div#pagecontainer {width: 80%;}
    	h1, h2, h3, h4 {color: #76c2bc; border-bottom: 1px solid #76c2bc;}
    	.monospace {font-family: monospace;}
    	legend {font-weight: bold;}
    	fieldset {margin-top: 10px; margin-bottom: 10px;}
    	span.emphasis {font-weight: bold;}
    </style>
</head>
<body>

<h2>OIOSAML.java Service Provider - Endorsing JAXP 1.3 implementations in Java 1.5</h2>
<p>OIOSAML.java Service Provider uses the <a href="http://opensaml.org">OpenSAML</a> framework.
OpenSAML requires the use of alternative implementations of JAXP 1.3 than the ones provided with the Java Runtime Environment.</p>
<p>The jar files that have to be endorsed are placed in the <code>endorsed</code> dir in the distribution file:
<ul><li><code>endorsed</code><ul>
<li><code>xalan-2.7.1.jar</code></li>  
<li><code>xalan-2.7.1-serializer.jar</code></li>  
<li><code>xerces-2.9.1-xercesImpl.jar</code></li>  
<li><code>xerces-2.9.1-xml-apis.jar</code></li>
</ul></ul>
</p>
<p>Java 1.5 provides with a mechanism for doing this, known as the "Endorsed Standards Override Mechanism".
<a href="http://java.sun.com/j2se/1.5.0/docs/guide/standards/index.html">http://java.sun.com/j2se/1.5.0/docs/guide/standards/index.html</a> explains this mechanism in detail.</p>
<p>Depending on the servlet container, the endorsement mechanism might vary. The following section provides a guide for doing this using Tomcat 6.0.16</p>
<h3>HOWTO</h3>
<h4>Tomcat 6.0.16</h4>
<p><a href="http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html">The specifics of classloading in Tomcat 6.0</a> summarizes to: Place the <code>endorsed</code> dir from the distribution in $CATALINA_HOME</p>
<h4>Tomcat 5.5.26</h4>
<p><a href="http://tomcat.apache.org/tomcat-5.5-doc/class-loader-howto.html">The specifics of classloading in Tomcat 5.5</a> summarizes to: Place the jars from the <code>endorsed</code> dir from the distribution in $CATALINA_HOME/common/endorsed</p>

<h4>OS X</h4>
<p>Also in certain situations it might be necessary to set some extra vm parameters, this depends a lot on the VM implementation.<br/>
These parameters, along with the endorsed library settings, will setup the correct XML parser.<br/>
<pre>-Djavax.xml.parsers.DocumentBuilderFactory=org.apache.xerces.jaxp.DocumentBuilderFactoryImpl<br/>
-Djavax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema=org.apache.xerces.jaxp.validation.XMLSchemaFactory</pre>
</p>

</body>
</html>